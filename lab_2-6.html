<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Шейфель Ж.В Задание 6</title>
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
 <style>
fieldset {
  background-color: #FFFAFA;
  font-size:16px; 
  padding:12px; 
  width:550px;

}

legend {
  background-color: #FF1493;
  color: white;
  padding: 5px 10px;
}

input {
  margin: 5px;
}
  </style>
    <script type="text/javascript" src="libs/jquery-3.6.0.min.js"></script>
 </head>
 <body>
 <fieldset>
 <center><legend> Мини-опрос </legend></center>
 <br>
 <fieldset class="pol">
 <legend> Род </legend>
 <input type="radio" id="p1" class="com"
     name="pol" value="Men">
    <label for="p1">Муж</label>

    <input type="radio" id="p2" class="com"
     name="pol" value="Women">
    <label for="p2">Жен</label>
</fieldset>

 <fieldset class="age">
 <legend> Возраст </legend>
 <input type="radio" id="a1" class="com"
     name="age" value="New">
    <label for="a1">от 18 до 35</label>

    <input type="radio" id="a2" class="com"
     name="age" value="Sred">
    <label for="a2">от 35 до 55</label>
	
	<input type="radio" id="a3" class="com"
     name="age" value="Old">
    <label for="a3">старше 55 </label>
  </fieldset>

  <fieldset class="rost">
 <legend> Рост, см </legend>
 <input type="radio" id="r1" class="com"
     name="rost" value="New">
    <label for="r1"> ... <150</label>

    <input type="radio" id="r2" class="com"
     name="rost" value="Sred">
    <label for="r2"> от 170 до 180</label>
	
	<input type="radio" id="r3" class="com"
     name="rost" value="Old">
    <label for="r3"> более 185 </label>
  </fieldset>
   <fieldset class="weigth">
 <legend> Вес, кг </legend>
 <input type="radio" id="w1" class="com"
     name="weigth" value="New">
    <label for="w1">  менее 50</label>

    <input type="radio" id="w2" class="com"
     name="weigth" value="Sred">
    <label for="w2"> от 50 до 90 кг</label>
	
	<input type="radio" id="w3" class="com"
     name="weigth" value="Old">
    <label for="w3">более 90 </label>
  </fieldset>
  
  
 <button id='finish'> 	Закончить/Начать новый опрос</button> 
  </fieldset>
  
    <fieldset>
 <center><legend> Процентное соотношение проголосовавших </legend></center>
 <br>
  <fieldset>
   <legend> Пол </legend>
  <p id="pm">?</p>
  <p id="pw">?</p>
   </fieldset>
    <fieldset>
	 <legend> Возраст, лет </legend>
  <p id="a11">?</p>
  <p id="a12">?</p>
  <p id="a13">?</p>
   </fieldset>
   
    <fieldset>
	 <legend> Вес, кг </legend>
  <p id="w11">?</p>
  <p id="w12">?</p>
  <p id="w13">?</p>
   </fieldset>
   
    <fieldset>
	 <legend> Рост, см </legend>
  <p id="r11">?</p>
  <p id="r12">?</p>
  <p id="r13">?</p>
   </fieldset>
   
    <p id="user">?</p>
   
   </fieldset>
  </fieldset>
 <script type="text/javascript">
 
$(document).ready(function(){
$('#finish').prop('disabled',true);


let i=0;
let users=1;
let p1=0;
let p2=0;
let a1=0;
let a2=0;
let a3=0;
let w1=0;
let w2=0;
let w3=0;
let r1=0;
let r2=0;
let r3=0;


$('#p1').change(function() {
p1++;

   $('.pol').attr('disabled', true);
 
});

$('#p2').change(function() {
p2++;

   $('.pol').attr('disabled', true);
});

$('#a1').change(function() {
a1++;
$('.age').attr('disabled', true);
});

$('#a2').change(function() {
a2++;
$('.age').attr('disabled', true);
});

$('#a3').change(function() {
a3++;
$('.age').attr('disabled', true);
});

$('#w1').change(function() {
w1++;
$('.weigth').attr('disabled', true);
});

$('#w2').change(function() {
w2++;
$('.weigth').attr('disabled', true);
});

$('#w3').change(function() {
w3++;
$('.weigth').attr('disabled', true);
});

$('#r1').change(function() {
r1++;
$('.rost').attr('disabled', true);
});

$('#r2').change(function() {
r2++;
$('.rost').attr('disabled', true);
});

$('#r3').change(function() {
r3++;
$('.rost').attr('disabled', true);
});

$('.com').change(function() {

$("#pm").text("Мужчины: " + p1/users + "%");
$("#pw").text("Женщины: " + p2/users + "%");
$("#a11").text("18-35: " + a1/users + "%");
$("#a12").text("35-55: " + a2/users + "%");
$("#a13").text("55 ...: " + a3/users + "%");
$("#w11").text("... 50: " + w1/users + "%");
$("#w12").text("50-90: " + w2/users + "%");
$("#w13").text("90 ...: " + w3/users + "%");
$("#r11").text("... 150: " + r1/users + "%");
$("#r12").text("150-185: " + r2/users + "%");
$("#r13").text("185 ...: " + r3/users + "%");
$("#user").text("Пользователей: " + users );

i++;

if (i==4){
$('#finish').prop('disabled',false);
}else{
$('#finish').prop('disabled',true);
}
});


$('#finish').on('click', function(){
users++;
i=0;
$('#finish').prop('disabled',true);
$('.com').prop('checked',false);
$('.pol').attr('disabled', false);
$('.age').attr('disabled', false);
$('.weigth').attr('disabled', false);
$('.rost').attr('disabled', false);
 });
 });
 </script>
 
   
   

 </body>
</html>